<div [formGroup]="form" class="mb-4">
  <label [for]="controlName" class="form-label">{{ label }}</label>
  <p-autocomplete
    field="name"
    [suggestions]="filteredData"
    [formControlName]="controlName"
    [fluid]="true"
    (completeMethod)="handleFilter($event)" />

  @if (form.get(controlName)?.invalid && form.get(controlName)?.touched) {
    @if (form.get(controlName)?.hasError('required')) {
      <p class="form-error">Este campo es obligatorio</p>
    }

    @if (form.get(controlName)?.hasError('server')) {
      <p class="form-error">
        {{ form.get(controlName)?.errors?.['server'] }}
      </p>
    }
  }
</div>
